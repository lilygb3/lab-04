---
title: "Lab 04 - La Quinta is Spanish for next to Denny's, Pt. 1"
author: "Lily Botha"
date: "02/05/2026"
output: github_document
---

### Load packages and data

```{r load-packages, message = FALSE}
library(tidyverse) 
library(dsbox) 
```

```{r load-data, message = FALSE}
states <- read_csv("data/states.csv")
```

### Exercise 1

The Denny's dataset has 1643 rows and 6 columns. Each row represents a Denny's restaurant. The columns are the variables: address, city, state, zip, longitude, and latitude. 

```{r dennys_dimensions}
dn <- dennys
nrow(dn)
ncol(dn)
```

### Exercise 2

The La Quinta dataset has 909 rows and 6 columns. Each row represents a La Quinta hotel. The columns are the variables: address, city, state, zip, longitude, and latitude. 

```{r laquinta_dimensions}
lq <- laquinta
nrow(lq)
ncol(lq)
```

### Exercise 3

There are La Quinta hotels outside of the US: in Asia, New Zealand, Georgia, Turkey, United Arab Emirates, Colombia, and Ecuador. All of the Denny's are located in the US. 

### Exercise 4

One possibility is to filter by longitude and latitude, which would require finding out the coordinate range of the US. I think a simpler option would be to filter by the state abbreviations, and anything outside of the US's 50 states would be cut. Its also possible that the address of locations outside the US is formatted differently, so we could filter that way, but that seems risky. 

### Exercise 5

There are 0 Denny's locations outside the US. 

```{r dennys_outside_us}
dn %>%
  filter(!(state %in% states$abbreviation)) #filter for states that are not in states$abbreviation
```

### Exercise 6

```{r dn_new_country_var}
dn <- dn %>%
  mutate(country = "United States") #add a country variable to Denny's dataset and set all observations to "United States"
```

### Exercise 7

There are La Quinta locations in Asia, New Zealand, Georgia, Turkey, United Arab Emirates, Colombia, and Ecuador. 

```{r lq_outside_us}
lq %>%
  filter(!(state %in% states$abbreviation)) #filter for states that are not in states$abbreviation
```

### Exercise 8

```{r lq_new_country_var}
lq <- lq %>%
  mutate(country = case_when(
    state %in% state.abb ~ "United States",
    state %in% c("ON", "BC") ~ "Canada",
    state == "ANT" ~ "Colombia",
    state %in% c("AG", "QR", "CH", "NL", "VE", "PU", "SL") ~ "Mexico"
  )) #add a new country variable based on state abbreviations
```

```{r filter_lq_us}
lq <- lq %>%
  filter(country == "United States")
```

### Exercise 9

The state with the highest number of Denny's locations is California, with 403. It is surprising that Texas (the second highest) only has 200. The state with the least amount of Denny's is Delaware, with only 1. 

```{r dn_count}
dn %>% count(state, sort = TRUE) #count frequency of states, sort in descending order
dn %>% count(state) %>% arrange(n) #sort in ascending order
```

The state with the highest number of La Quinta locations is Texas, with 237. Maine has the least, with only 1. I think this makes more sense because of how big Texas is. Overall, it makes sense that Texas has both a very high number of Denny's and La Quinta's, given the point of the lab.

```{r lq_count}
lq %>% count(state, sort = TRUE)
lq %>% count(state) %>% arrange(n)
```

```{r dn_join_states}
states <- dn %>%
  count(state) %>% #count how many observations are in each state
  inner_join(states, by = c("state" = "abbreviation")) #join states df to count df, specify that the state variable from dn df should be matched by the abbreviation variable from states df
```

### Exercise 10



### Exercise 11





### Exercise 12





### Exercise 13





